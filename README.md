# api.checkout

## TS Оформление заказа в 1 клик (api.checkout)

Альфа-версия - значит в стадии разработки и тестирования.
Модуль предназначен для магазинов с простым оформлением заказа, кто не работает с оплатой на сайте и службами доставки, в регионах таких магазинов очень много, возможно это и ваш случай.

Идея модуля - оформлять заказы на одного пользователя в системе без создания профилей, плательщиков, доставок, оплат и регистраций, а также максимально упростить процедуру оформления заказа.
С модулем установится один компонент TS Оформление заказа в 1 клик, доступен он будет в визуальном редакторе в разделе Тюниг-Софт
Компонент на самом деле копия стандартного компонента Оформление заказа (sale.order.ajax), но переделанный под определенные задачи, параметры компонента полностью заменены на необходимые, остальные буду постепенно добавлять.

В настройках компонента обязательно надо выбрать 4 настройки, остальные оставьте без изменения:

ID пользователя, на который оформлять заказ
Тип плательщика по умолчанию
Платежная система по умолчанию
Cлужба доставки по умолчанию
ID пользователя можете указать существующего, можете создать нового, без разницы, на этого пользователя будут оформляться заказы неавторизованных пользователей, без их регистрации, без создания профилей и т.д., можно даже отключить регистрацию на сайте.
У авторизованных пользователей возможность создавать профиль и подставлять его контакты из предыдущего заказа сохраняется, сохраняется также привязка к заказу, в личном кабинете у него все также можно выводить заказы.

Внешний вид компонента весь изменился, сборная солянка Эльдорадо и М.Видео, оформление заказа переделал на стандартный jQuery.ajax(), управляет им jQuery-плагин $.fn.apiCheckout, если в корзине товаров больше 3-х, то корзина будет сворачиваться, поле Комментарий по умолчанию тоже свернуто, в общем, минимализм и некие удобства здесь есть.
В шаблоне выбор плательщиков, профилей, оплат и доставок также сохраняется, но все скрыто в css-стилях, если будет нужен их выбор, сможете вывести, я не тестировал, но должно работать.
Компонент оформления заказа полностью поддерживает новый модуль интернет-магазина и новое ядро D7, на старых магазинах он работать не будет, а также не будет работать на редакциях, где нет магазина, при установке модуля проверок никаких пока нет.

